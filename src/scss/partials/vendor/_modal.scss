.modal-overlay {
	-webkit-backface-visibility: hidden;
	background-color: $modal-overlay-background-color;
	bottom: 0;
	height: 100%;
	left: 0;
	overflow: hidden;
	-webkit-overflow-scrolling: touch;
	position: fixed;
	right: 0;
	text-align: center;
	top: 0;
	touch-action: none;
	width: 100%;
	z-index: z(modal);

	&:before {
		content: '';
		display: inline-block;
		height: 100%;
		margin-right: -1px;
		vertical-align: middle;
		width: 1px;

		[dir='rtl'] & {
			margin-left: -1px;
			margin-right: 0;
		}
	}
}

// Embedded animated gif.
.modal-loader:after {
	background-image: url('data:image/gif;base64,R0lGODlhDAAEAPABAP///wAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJMgABACwAAAAADAAEAAACCoQRqXm42h48MhUAIfkECTIAAQAsBAAAAAQABAAAAgSEjwkFACH5BAUyAAEALAgAAAAEAAQAAAIEhI8JBQA7'); // 1
	bottom: 0;
	content: '';
	height: 4px;
	image-rendering: optimizeSpeed;
	left: 0;
	margin: auto;
	position: absolute;
	right: 0;
	top: 0;
	width: 12px;
	z-index: z(modal, loader);
}

.modal {
	display: inline-block;
	margin: 0 auto;
	max-height: 95%;
	max-width: 95%;
	overflow: auto;
	vertical-align: middle;
}

.modal-ajax.container,
.modal-iframe { @include container; }

.modal-iframe,
.modal-image { overflow: hidden; }

.modal-iframe .media,
.modal-iframe iframe {
	max-height: 100%;
	max-width: 100%;
}

.modal-iframe .media {
	background-color: #fff;
	margin-bottom: 0;
}

.modal-iframe.iframe-full { height: 95%; }

.iframe-full .media {
	height: 100%;
	padding: 0;
}

.modal-image img { max-height: 100%; }

.modal-content {
	background-color: $modal-content-background-color;
	max-height: 100%;
	overflow: auto;
	padding: 1em;
	text-align: left;

	[dir='rtl'] & { text-align: right; }
}

.modal-header,
.modal-footer {
	color: #fff;
	left: 0;
	position: fixed;
	right: 0;
	top: 0;
}

.modal-header { padding: 0 4.555em; }

.modal-footer {
	bottom: 0;
	top: auto;
}

.modal-close {
	color: $modal-control-color;
	display: inline-block;
	font-size: 1.5em;
	font-weight: bold;
	padding: 0.8333em;
	position: fixed;
	right: 1px;
	top: 1px;
	z-index: z(modal, button);

	[dir='rtl'] & {
		left: 1px;
		right: auto;
	}
}

.modal-direction {
	color: $modal-control-color;
	display: block;
	font-size: 2em;
	font-weight: bold;
	left: 0;
	padding: 1em;
	position: fixed;
	text-align: center;
	top: 49%;
	width: 3em;
	z-index: z(modal, button);

	[dir='rtl'] & { right: 0; }

	&.next {
		left: auto;
		right: 0;

		[dir='rtl'] & {
			left: 0;
			right: auto;
		}
	}
}

button.modal-close,
button.modal-direction {
	background-color: transparent;
	border: 0;

	&:hover { text-decoration: underline; }
}
