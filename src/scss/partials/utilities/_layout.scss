// Clearfix: contain floats
//
// For modern browsers
// 1. The space content is one way to avoid an Opera bug when the
//	  `contenteditable` attribute is included anywhere else in the document.
//	  Otherwise it causes space to appear at the top and bottom of elements
//	  that receive the `clearfix` class.
// 2. The use of `table` rather than `block` is only necessary if using
//	  `:before` to contain the top-margins of child elements.
%u-clearfix {
	&:before,
	&:after {
		content: ''; // 1
		display: table; // 2
	}

	&:after { clear: both; }
}

.u-clearfix { @extend %u-clearfix; }

// Float helpers
%u-push {
	float: right;

	[dir='rtl'] & { float: left; }
}

.u-push { @extend %u-push; }

%u-pull {
	float: left;

	[dir='rtl'] & { float: right; }
}

.u-pull { @extend %u-pull; }

// XXS, XS, S, M, L viewports
@each $bp in map-keys(map-get($grid, breakpoints)) {
	@include push-pull($bp);
}

// Layout helpers
%u-block { display: block; }

.u-block { @extend %u-block; }

%u-inline-block { display: inline-block; }

.u-inline-block { @extend %u-inline-block; }

%u-inline { display: inline; }

.u-inline { @extend %u-inline; }

// XXS, XS, S, M, L viewports
@each $bp in map-keys(map-get($grid, breakpoints)) {
	@include layout($bp);
}

// Text align helpers
%u-text-pull {
	text-align: left;

	[dir='rtl'] & { text-align: right; }
}

.u-text-pull { @extend %u-text-pull; }

%u-text-push {
	text-align: right;

	[dir='rtl'] & { text-align: left; }
}

.u-text-push { @extend %u-text-push; }

%u-text-center { text-align: center; }

.u-text-center { @extend %u-text-center; }

// XXS, XS, S, M, L viewports
@each $bp in map-keys(map-get($grid, breakpoints)) {
	@include text-align($bp);
}

// Grid state detection.
.grid-state-indicator {
	height: 1px;
	position: absolute;
	top: -9999px;
	width: 0;
}

// Breakpoint driven changes. 0 based so we can parse easily with JavaScript.
@each $bp in map-keys(map-get($grid, breakpoints)) {
	@include grid-state($bp, index(map-keys(map-get($grid, breakpoints)), $bp) - 1 * 1px);
}

// Scrollbar width measurement helper
.scrollbar-measure {
	position: absolute;
	top: -9999px;
	width: 50px;
	height: 50px;
	overflow: scroll;
}

// 1: Locks the height of the document removing the scrollbar.
[data-lock] {
	&,
	& body {
		height: 100%;
		overflow: hidden;
		touch-action: none;
	}
}
